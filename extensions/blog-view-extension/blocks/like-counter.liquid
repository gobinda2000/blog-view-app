{{ 'article-app.css' | asset_url | stylesheet_tag }}
<div class="blog-likes like-counter center" data-article-id="{{ article.id }}" data-customer-id="{% if customer %}{{ customer.id }}{% endif %}">
  <button class="like-button">
    <img src="{{ 'icon-thumb-up.svg' | asset_url }}" alt="Like" width="24" height="24">
  </button>
  <span class="like-count">{{ article.metafields.custom.like_count | default: 0 }}</span>
</div>
<script src="{{ 'article-like-counter.js' | asset_url }}" defer></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const likeDiv = document.querySelector(".blog-likes");
  if (!likeDiv) {
    console.error("Like button element not found!");
    return;
  }
  const tracker = new ArticleLikeTracker(
    "{{ block.settings.api_url }}", // Your API endpoint
    likeDiv
  );
});
</script>

{% schema %}
{
  "name": "Blog Like Counter",
  "target": "section",
  "settings": [
    {
      "type": "text",
      "id": "api_url",
      "label": "t:settings_schema.global.settings.blog.like.label",
      "placeholder": "https://your-backend-endpoint.com"
    },
  ]
}
{% endschema %}
